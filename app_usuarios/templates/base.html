<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="google-site-verification" content="LII6FOQ6qh5szO3UUmfRWQL5YFpjNlFbOle0ARgpwXw" />
  <meta name="google-site-verification" content="google59c38f56bef2f608" />
    <title>Mi Proyecto</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    body { background:#f8f9fa; }

    /* --- Sticky footer --- */
    html, body {
      height: 100%;
    }
    body {
      display: flex;
      flex-direction: column;
    }
    .container.mt-4 {
      flex: 1 0 auto;
    }
    footer {
      margin-top: auto !important;
    }

    .dropdown-menu { min-width: 170px; }
    .dropdown-item i { margin-right: 8px; }

     /* ✅ Estilo reforzado para encabezado del login */
    h2.text-center {
      text-align: center !important;
      margin-bottom: 1.5rem !important;
      font-size: 1.75rem !important;
      font-weight: bold!important;
      color: #212529 !important;
    }

    /* ✅ ESTILOS DEL LOGIN CON COLORES VERDE Y ROJO */
    .login-box {
        max-width: 400px;
        margin: 50px auto;
        padding: 30px;
        border: 1px solid #dee2e6;
        border-radius: 10px;
        background: white;
        box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
    }
    .input-group {
        margin-bottom: 1.5rem;
        position: relative;
    }
    .input-group input {
        width: 100%;
        padding: 0.75rem 1rem;
        border: 1px solid #ced4da;
        border-radius: 0.375rem;
        font-size: 1rem;
        transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    }
    .input-group input:focus {
        border-color: #86b7fe;
        outline: 0;
        box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
    }
    .toggle-password {
        position: absolute;
        right: 1rem;
        top: 50%;
        transform: translateY(-50%);
        cursor: pointer;
        background: none;
        border: none;
        font-size: 1.2rem;
        padding: 0;
    }
    .buttons {
        display: flex;
        gap: 0.75rem;
        margin: 2rem 0;
    }
    .btn-continuar {
        background: #198754 !important; /* VERDE */
        color: white;
        padding: 0.75rem 1.5rem;
        border: none;
        border-radius: 0.375rem;
        cursor: pointer;
        flex: 1;
        font-size: 1rem;
        font-weight: 500;
        transition: background-color 0.15s ease-in-out;
    }
    .btn-continuar:hover {
        background: #157347 !important; /* VERDE OSCURO */
    }
    .btn-cancelar {
        background: #dc3545 !important; /* ROJO */
        color: white;
        padding: 0.75rem 1.5rem;
        border: none;
        border-radius: 0.375rem;
        cursor: pointer;
        flex: 1;
        font-size: 1rem;
        font-weight: 500;
        transition: background-color 0.15s ease-in-out;
    }
    .btn-cancelar:hover {
        background: #bb2d3b !important; /* ROJO OSCURO */
    }
    .links {
        text-align: center;
        margin-top: 1.5rem;
    }
    .links a {
        display: block;
        margin: 0.5rem 0;
        color: #0d6efd;
        text-decoration: none;
        transition: color 0.15s ease-in-out;
    }
    .links a:hover {
        color: #0a58ca;
        text-decoration: underline;
    }
    .input-group input::placeholder {
        color: #6c757d;
        opacity: 1;
    }
  </style>
</head>
<body>

  <!-- ✅ CONDICIÓN CORREGIDA: Excluye login -->
  {% if request.resolver_match.url_name != 'editar_usuario' and request.resolver_match.url_name != 'contacto' and request.resolver_match.url_name != 'login' %}
  <nav class="navbar navbar-dark bg-primary px-3">
    <a class="navbar-brand fw-bold" href="#">Mi Proyecto</a>

    <!-- Menú hamburguesa -->
    <div class="dropdown">
      <button class="navbar-toggler" type="button" id="menuDropdown" data-bs-toggle="dropdown" aria-expanded="false">
        <span class="navbar-toggler-icon"></span>
      </button>
      <ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="menuDropdown">
        <li>
          <a class="dropdown-item" href="{% url 'contacto' %}">
            Contactos
          </a>
        </li>
        <li>
          <a class="dropdown-item" href="https://api.whatsapp.com/send?phone=584125031020&text=Hola%20José%2C%20quisiera%20recuperar%20mi%20acceso%20al%20sistema%20CRUD.%20¿Podrías%20ayudarme%3F" target="_blank">
            <i class="bi bi-whatsapp" style="color: #25D366;"></i> WhatsApp
          </a>
        </li>
        <li>
          <a class="dropdown-item text-danger fw-bold" href="{% url 'logout' %}">
            Salir
          </a>
        </li>
      </ul>
    </div>
  </nav>
  {% endif %}

  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    {% endfor %}
  {% endif %}

  <div class="container mt-4">
    {% block content %}
    {% endblock %}
  </div>

  <!-- ✅ MISMA CONDICIÓN PARA EL FOOTER -->
  {% if request.resolver_match.url_name != 'editar_usuario' and request.resolver_match.url_name != 'contacto' and request.resolver_match.url_name != 'login' %}
  <footer class="bg-dark text-white py-3">
    <div class="container text-center">
      <small>
        Hecho por <strong>José Castillo</strong> | © {{ now|date:"Y" }} Todos los derechos reservados
      </small>
    </div>
  </footer>
  {% endif %}

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
